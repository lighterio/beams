!function(n){var t=function(){},e=t,o=t,c=function(t,c,i,r,u){"function"==typeof c&&(u=r,r=i,i=c,c=0);var f;if(n.XMLHttpRequest)f=new XMLHttpRequest;else{if(!n.ActiveXObject)return!1;f=new ActiveXObject("Microsoft.XMLHTTP")}return f&&(f.onreadystatechange=function(){if(4==f.readyState){var t=200==f.status?i||e:r||o,c=f.responseText;if(u)try{var s=n.eval;s("eval.J="+c),c=s.J}catch(s){a("ERROR: Could not parse JSON",c)}t(c,f)}},f.open(c?"POST":"GET",t,!0),c&&f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.send(c||null)),!0},i=function(n,t,e){return c(n,t,e,!0)},r=function(n,t){if(n)for(var e=0,o=n.length;o>e;e++){var c=t(n[e],e,n);if(c===!1)break}},u=function(n,t){if(n)for(var e in n){var o=t(n[e],e,n);if(o===!1)break}},f=function(n,t){return n&&t&&u(t,function(t,e){n[e]=t}),n},a=function(t,e){n.console&&console.log&&("undefined"==typeof e?console.log(t):console.log(t,e))},s=1e3,l=function(){function n(){i(o,function(e){r(e,function(n){var e=n[0],o=n[1];t(e,o)}),n()},function(){a("ERROR: Failed to connect ("+o+")."),setTimeout(n,s)})}function t(n,t){r(c[n],function(n){n.call(l,t)})}var e="/BEAM",o=e,c={},u=0,l={connect:function(n){return this.on("connect",n),l},on:function(n,t){var e=c[n];return e||(e=c[n]=[]),e.push(t),l},emit:function(n,t){return u++,l}};return l.connect(function(n){f(l,n),o=e+"?id="+l.id}),n(),l};n.getBeams=l}(window);